# 语音识别功能使用指南

## 🎤 功能概述

本小程序集成了微信原生的语音识别API，提供便捷的语音转文字功能。

## 📱 使用方法

### 1. 基本使用
1. 在任意笔记页面点击 **🎤 语音** 按钮
2. 系统会弹出确认对话框
3. 点击"确定"开始语音识别
4. 说话后系统会自动识别并转换为文字
5. 识别结果会自动插入到编辑区

### 2. 权限说明
- 首次使用需要授权麦克风权限
- 如果拒绝权限，可在设置中重新开启
- 权限被拒绝时会显示相应提示

## 🔧 技术实现

### API调用流程
```javascript
// 1. 申请录音权限
wx.authorize({
  scope: 'scope.record',
  success() {
    // 2. 开始语音识别
    wx.startSot({
      lang: 'zh_CN', // 中文识别
      success(res) {
        // 3. 处理识别结果
        console.log('识别结果:', res.result)
      }
    })
  }
})
```

### 配置要求
在 `app.json` 中需要配置：
```json
{
  "permission": {
    "scope.record": {
      "desc": "需要使用麦克风进行语音输入和识别"
    }
  },
  "requiredBackgroundModes": ["audio"]
}
```

## ✨ 功能特点

- **免费使用**：使用微信原生API，无额外费用
- **实时识别**：语音输入即时转换为文字
- **中文优化**：专门针对中文语音识别优化
- **自动降噪**：集成基础降噪功能
- **权限管理**：智能处理权限申请和拒绝

## 🎯 使用场景

1. **快速记录**：会议、讲座等场景下的快速记录
2. **灵感捕捉**：随时记录突发灵感
3. **长篇内容**：语音输入比打字更高效
4. **无障碍使用**：为有打字困难的用户提供便利

## ⚠️ 注意事项

1. **网络要求**：需要网络连接进行语音识别
2. **环境要求**：建议在相对安静的环境中使用
3. **时长限制**：单次识别建议不超过60秒
4. **准确性**：识别准确性取决于发音清晰度和环境噪音

## 🔄 错误处理

系统会自动处理以下情况：
- 权限被拒绝：显示权限申请提示
- 网络异常：显示网络错误提示
- 识别失败：显示重试提示
- 超时处理：自动结束识别过程

## 🚀 后续优化

- [ ] 支持多语言识别
- [ ] 添加语音波形显示
- [ ] 支持长语音分段识别
- [ ] 添加语音识别历史记录
