<!--pages/notebook/notebook.wxml-->
<view class="notebook-container">
  <!-- 导航栏 -->
  <view class="nav-bar">
    <view class="nav-left" bindtap="goBack">
      <text class="nav-icon">‹</text>
    </view>
    <view class="nav-center">
      <text class="nav-title">{{categoryTitle}} 文件簿</text>
    </view>
    <view class="nav-right">
      <text class="nav-action" bindtap="goToEditor">编辑</text>
    </view>
  </view>
  
  <!-- 搜索栏 -->
  <view class="search-section">
    <view class="search-box">
      <input class="search-input" 
             placeholder="搜索笔记..." 
             value="{{searchKeyword}}" 
             bindinput="onSearchInput" />
      <text class="search-icon">🔍</text>
    </view>
  </view>
  
  <!-- 笔记列表 -->
  <view class="notes-container">
    <view class="note-item" wx:for="{{filteredNotes}}" wx:key="id" bindtap="openNote" data-note="{{item}}">
      <!-- 笔记信息卡片 -->
      <view class="note-info-card">
        <view class="note-header">
          <text class="note-title">{{item.title}}</text>
          <text class="note-time">{{item.createTime}}</text>
        </view>
        
        <view class="note-content">
          <text class="note-text">{{item.content}}</text>
        </view>
        
        <view class="note-footer">
          <view class="note-tags">
            <text class="tag" wx:for="{{item.tags}}" wx:key="*this">#{{item}}</text>
          </view>
          <view class="note-stats">
            <text class="word-count">{{item.wordCount}}字</text>
          </view>
        </view>
      </view>
      
      <!-- 操作按钮 -->
      <view class="note-actions">
        <text class="action-btn edit-btn" bindtap="editNote" data-note="{{item}}" catchtap="true">编辑</text>
        <text class="action-btn delete-btn" bindtap="deleteNote" data-id="{{item.id}}" catchtap="true">删除</text>
      </view>
    </view>
    
    <!-- 空状态 -->
    <view class="empty-state" wx:if="{{filteredNotes.length === 0}}">
      <view class="empty-card">
        <text class="empty-icon">📝</text>
        <text class="empty-text">{{searchKeyword ? '没有找到相关笔记' : '还没有笔记，去创建第一条吧！'}}</text>
        <button class="create-btn" bindtap="goToEditor">创建笔记</button>
      </view>
    </view>
  </view>
  
  <!-- 浮动创建按钮 -->
  <view class="floating-btn" bindtap="goToEditor">
    <text class="floating-icon">+</text>
  </view>
</view>
