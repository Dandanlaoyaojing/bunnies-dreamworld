<!--APIé›†æˆæµ‹è¯•é¡µé¢-->
<view class="test-container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">APIé›†æˆæµ‹è¯•</text>
    <text class="page-subtitle">éªŒè¯æ–°APIåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</text>
  </view>

  <!-- å½“å‰æµ‹è¯•çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-section">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨æµ‹è¯•: {{currentTest}}</text>
  </view>

  <!-- æµ‹è¯•ç»“æœåˆ—è¡¨ -->
  <view class="test-results">
    <view 
      wx:for="{{testResults}}" 
      wx:key="name"
      class="test-item {{item.success ? 'success' : 'error'}}"
    >
      <view class="test-header">
        <view class="test-status">
          <text wx:if="{{item.success}}" class="status-icon success">âœ“</text>
          <text wx:else class="status-icon error">âœ—</text>
          <text class="test-name">{{item.name}}</text>
        </view>
        <view class="test-actions">
          <text class="action-btn" data-index="{{index}}" bindtap="onViewDetails">è¯¦æƒ…</text>
        </view>
      </view>
      
      <view class="test-message">{{item.message}}</view>
      
      <view wx:if="{{item.details}}" class="test-details">
        <text class="details-label">è¯¦ç»†ä¿¡æ¯:</text>
        <text class="details-content">{{item.details}}</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="action-btn retry-btn" bindtap="onRetry" disabled="{{loading}}">
      <text class="btn-icon">ğŸ”„</text>
      <text class="btn-text">é‡æ–°æµ‹è¯•</text>
    </button>
    
    <button class="action-btn copy-btn" bindtap="onCopyResults" disabled="{{loading}}">
      <text class="btn-icon">ğŸ“‹</text>
      <text class="btn-text">å¤åˆ¶ç»“æœ</text>
    </button>
  </view>

  <!-- æµ‹è¯•æ€»ç»“ -->
  <view wx:if="{{testResults.length > 0}}" class="test-summary">
    <view class="summary-title">æµ‹è¯•æ€»ç»“</view>
    <view class="summary-stats">
      <view class="stat-item">
        <text class="stat-number">{{testResults.length}}</text>
        <text class="stat-label">æ€»æµ‹è¯•æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number success">{{successCount}}</text>
        <text class="stat-label">æˆåŠŸ</text>
      </view>
      <view class="stat-item">
        <text class="stat-number error">{{failCount}}</text>
        <text class="stat-label">å¤±è´¥</text>
      </view>
    </view>
  </view>
</view>