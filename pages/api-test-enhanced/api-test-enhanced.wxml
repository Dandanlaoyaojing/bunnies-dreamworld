<!--å¢å¼ºç‰ˆAPIæµ‹è¯•é¡µé¢-->
<view class="test-container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="title">ğŸ§ª APIé›†æˆæµ‹è¯•</view>
    <view class="subtitle">æµ‹è¯•æ–°é›†æˆçš„APIåŠŸèƒ½</view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="test-btn primary" bindtap="runAllTests" disabled="{{loading}}">
      {{loading ? 'æµ‹è¯•ä¸­...' : 'è¿è¡Œæ‰€æœ‰æµ‹è¯•'}}
    </button>
    <button class="test-btn secondary" bindtap="testNetworkConnection" disabled="{{loading}}">
      ç½‘ç»œè¯Šæ–­
    </button>
    <button class="test-btn secondary" bindtap="clearResults" disabled="{{loading}}">
      æ¸…é™¤ç»“æœ
    </button>
    <button class="test-btn success" bindtap="goToStats">
      æŸ¥çœ‹ç»Ÿè®¡
    </button>
  </view>

  <!-- å½“å‰æµ‹è¯•çŠ¶æ€ -->
  <view class="current-test" wx:if="{{currentTest}}">
    <view class="test-icon">â³</view>
    <view class="test-text">{{currentTest}}</view>
  </view>

  <!-- æµ‹è¯•ç»“æœ -->
  <view class="test-results" wx:if="{{testResults.length > 0}}">
    <view class="results-header">
      <view class="results-title">æµ‹è¯•ç»“æœ</view>
      <view class="results-count">
        æˆåŠŸ: {{successCount}} / å¤±è´¥: {{failCount}}
      </view>
    </view>

    <view class="result-list">
      <view 
        class="result-item {{item.success ? 'success' : 'error'}}"
        wx:for="{{testResults}}" 
        wx:key="name"
        data-index="{{index}}"
        bindtap="viewDetail"
      >
        <view class="result-icon">
          {{item.success ? 'âœ…' : 'âŒ'}}
        </view>
        <view class="result-content">
          <view class="result-name">{{item.name}}</view>
          <view class="result-message">{{item.message}}</view>
          <view class="result-data" wx:if="{{item.data}}">
            <text class="data-label">æ•°æ®: </text>
            <text class="data-value">{{item.data}}</text>
          </view>
        </view>
        <view class="result-action">
          <text class="action-text">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && testResults.length === 0}}">
    <view class="empty-icon">ğŸ§ª</view>
    <view class="empty-text">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•</view>
    <view class="empty-desc">æµ‹è¯•æ–°é›†æˆçš„APIåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-icon">â³</view>
    <view class="loading-text">æ­£åœ¨æµ‹è¯•ä¸­...</view>
  </view>
</view>


