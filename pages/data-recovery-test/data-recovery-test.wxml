<!--pages/data-recovery-test/data-recovery-test.wxml-->
<view class="test-container">
  <!-- 导航栏 -->
  <view class="nav-bar">
    <view class="nav-content">
      <view class="nav-left" bindtap="goBack">
        <text class="nav-icon">←</text>
      </view>
      <text class="nav-title">数据恢复测试</text>
      <view class="nav-right"></view>
    </view>
  </view>

  <!-- 测试说明 -->
  <view class="info-card">
    <view class="info-header">
      <text class="info-title">测试说明</text>
    </view>
    <view class="info-content">
      <text class="info-text">此页面用于测试数据恢复到10月17日的功能</text>
      <text class="info-text">请按顺序执行以下测试步骤</text>
    </view>
  </view>

  <!-- 测试按钮 -->
  <view class="test-actions">
    <button class="test-btn primary" bindtap="testFindData">
      <text class="btn-icon">🔍</text>
      <text class="btn-text">1. 查找10月17日数据</text>
    </button>
    
    <button class="test-btn secondary" bindtap="showRecoveryOptions">
      <text class="btn-icon">⚡</text>
      <text class="btn-text">2. 显示恢复选项</text>
    </button>
    
    <button class="test-btn warning" bindtap="testRecovery">
      <text class="btn-icon">🔄</text>
      <text class="btn-text">3. 执行恢复测试</text>
    </button>
  </view>

  <!-- 测试结果 -->
  <view class="results-card" wx:if="{{testResults.length > 0}}">
    <view class="results-header">
      <text class="results-title">测试结果</text>
    </view>
    <view class="results-list">
      <view class="result-item" wx:for="{{testResults}}" wx:key="id">
        <view class="result-icon">{{item.status === 'found' ? '✅' : '❌'}}</view>
        <view class="result-content">
          <text class="result-type">{{item.type}}</text>
          <text class="result-key">{{item.key}}</text>
          <text class="result-date">{{item.date}}</text>
          <text class="result-count">{{item.count}}条数据</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 注意事项 -->
  <view class="warning-card">
    <view class="warning-header">
      <text class="warning-title">⚠️ 注意事项</text>
    </view>
    <view class="warning-content">
      <text class="warning-text">• 恢复操作会覆盖当前数据</text>
      <text class="warning-text">• 执行前会自动创建当前数据备份</text>
      <text class="warning-text">• 只恢复10月17日创建的笔记</text>
      <text class="warning-text">• 建议先执行"查找数据"测试</text>
    </view>
  </view>
</view>
