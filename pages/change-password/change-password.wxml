<!--pages/change-password/change-password.wxml - 修改密码页面-->
<view class="container">
  <!-- 头部 -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">
      <text class="back-icon">←</text>
    </view>
    <text class="title">修改密码</text>
    <view class="placeholder"></view>
  </view>

  <!-- 内容区域 -->
  <view class="content">
    <view class="form-container">
      <view class="form-title">修改密码</view>
      <text class="form-desc">为了您的账户安全，请定期修改密码</text>

      <!-- 当前密码输入 -->
      <view class="input-group">
        <view class="input-container {{oldPasswordFocused ? 'focused' : ''}}">
          <text class="input-icon">🔒</text>
          <input 
            class="auth-input" 
            placeholder="当前密码" 
            password="{{!showOldPassword}}"
            value="{{oldPassword}}"
            bindinput="onOldPasswordInput"
            bindfocus="onOldPasswordFocus"
            bindblur="onOldPasswordBlur"
          />
          <view class="password-toggle" bindtap="toggleOldPassword">
            <text class="toggle-icon">{{showOldPassword ? '🙈' : '👁'}}</text>
          </view>
        </view>
        <text class="input-error" wx:if="{{oldPasswordError}}">{{oldPasswordError}}</text>
      </view>

      <!-- 新密码输入 -->
      <view class="input-group">
        <view class="input-container {{newPasswordFocused ? 'focused' : ''}}">
          <text class="input-icon">🔑</text>
          <input 
            class="auth-input" 
            placeholder="新密码" 
            password="{{!showNewPassword}}"
            value="{{newPassword}}"
            bindinput="onNewPasswordInput"
            bindfocus="onNewPasswordFocus"
            bindblur="onNewPasswordBlur"
          />
          <view class="password-toggle" bindtap="toggleNewPassword">
            <text class="toggle-icon">{{showNewPassword ? '🙈' : '👁'}}</text>
          </view>
        </view>
        <text class="input-error" wx:if="{{newPasswordError}}">{{newPasswordError}}</text>
      </view>

      <!-- 确认新密码输入 -->
      <view class="input-group">
        <view class="input-container {{confirmPasswordFocused ? 'focused' : ''}}">
          <text class="input-icon">🔑</text>
          <input 
            class="auth-input" 
            placeholder="确认新密码" 
            password="{{!showConfirmPassword}}"
            value="{{confirmPassword}}"
            bindinput="onConfirmPasswordInput"
            bindfocus="onConfirmPasswordFocus"
            bindblur="onConfirmPasswordBlur"
          />
          <view class="password-toggle" bindtap="toggleConfirmPassword">
            <text class="toggle-icon">{{showConfirmPassword ? '🙈' : '👁'}}</text>
          </view>
        </view>
        <text class="input-error" wx:if="{{confirmPasswordError}}">{{confirmPasswordError}}</text>
      </view>

      <!-- 密码要求提示 -->
      <view class="password-tips">
        <text class="tips-title">密码要求：</text>
        <text class="tips-item">• 至少6个字符</text>
        <text class="tips-item">• 不能与当前密码相同</text>
        <text class="tips-item">• 建议包含字母和数字</text>
      </view>

      <!-- 提交按钮 -->
      <button 
        class="submit-btn {{canSubmit ? 'active' : ''}}"
        bindtap="onSubmit"
        disabled="{{!canSubmit || isLoading}}"
      >
        {{isLoading ? '修改中...' : '确认修改'}}
      </button>
    </view>
  </view>
</view>
