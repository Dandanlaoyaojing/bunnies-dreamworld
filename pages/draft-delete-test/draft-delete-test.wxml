<!--pages/draft-delete-test/draft-delete-test.wxml-->
<view class="test-container">
  <view class="test-header">
    <text class="test-title">è‰ç¨¿åˆ é™¤åŠŸèƒ½æµ‹è¯•</text>
  </view>

  <view class="test-section">
    <view class="section-title">ğŸ“ å½“å‰è‰ç¨¿</view>
    <view class="draft-count">
      <text class="count-text">å…±æœ‰ {{drafts.length}} ä¸ªè‰ç¨¿</text>
    </view>
    <view class="draft-list">
      <view class="draft-item" wx:for="{{drafts}}" wx:key="id">
        <view class="draft-info">
          <text class="draft-title">{{item.title}}</text>
          <text class="draft-id">ID: {{item.id}}</text>
          <text class="draft-time">{{item.createTime}}</text>
        </view>
        <button class="delete-btn" bindtap="deleteSingleDraft" data-id="{{item.id}}">åˆ é™¤</button>
      </view>
    </view>
  </view>

  <view class="test-section">
    <view class="section-title">ğŸ”§ æ‰¹é‡æ“ä½œæµ‹è¯•</view>
    <view class="batch-controls">
      <button class="test-btn" bindtap="loadDrafts">é‡æ–°åŠ è½½è‰ç¨¿</button>
      <button class="test-btn" bindtap="testBatchDelete">æµ‹è¯•æ‰¹é‡åˆ é™¤</button>
      <button class="test-btn" bindtap="testClearAll">æµ‹è¯•æ¸…ç©ºæ‰€æœ‰</button>
    </view>
  </view>

  <view class="test-section">
    <view class="section-title">ğŸ“‹ æ“ä½œæ—¥å¿—</view>
    <view class="log-container">
      <text class="log-item" wx:for="{{logs}}" wx:key="index">{{item}}</text>
    </view>
  </view>
</view>
