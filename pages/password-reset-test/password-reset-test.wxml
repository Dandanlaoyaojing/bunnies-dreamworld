<!--pages/password-reset-test/password-reset-test.wxml - 密码重置功能测试页面-->
<view class="container">
  <view class="header">
    <text class="title">密码重置功能测试</text>
    <text class="subtitle">测试密码重置相关的API方法和页面功能</text>
  </view>

  <view class="test-buttons">
    <!-- API测试按钮 -->
    <view class="test-section">
      <text class="section-title">API方法测试</text>
      
      <button 
        class="test-btn primary" 
        bindtap="testRequestPasswordReset"
        disabled="{{isLoading}}"
      >
        {{isLoading ? '测试中...' : '测试请求密码重置'}}
      </button>
      
      <button 
        class="test-btn secondary" 
        bindtap="testResetPassword"
        disabled="{{isLoading}}"
      >
        {{isLoading ? '测试中...' : '测试重置密码'}}
      </button>
      
      <button 
        class="test-btn secondary" 
        bindtap="testChangePassword"
        disabled="{{isLoading}}"
      >
        {{isLoading ? '测试中...' : '测试修改密码'}}
      </button>
    </view>

    <!-- 页面测试按钮 -->
    <view class="test-section">
      <text class="section-title">页面功能测试</text>
      
      <button 
        class="test-btn tertiary" 
        bindtap="testPasswordResetPage"
        disabled="{{isLoading}}"
      >
        测试密码重置页面
      </button>
      
      <button 
        class="test-btn tertiary" 
        bindtap="testChangePasswordPage"
        disabled="{{isLoading}}"
      >
        测试修改密码页面
      </button>
    </view>

    <button 
      class="test-btn clear" 
      bindtap="clearResult"
      disabled="{{isLoading}}"
    >
      清空结果
    </button>
  </view>

  <view class="result-container" wx:if="{{testResult}}">
    <view class="result-header">
      <text class="result-title">测试结果</text>
    </view>
    <view class="result-content">
      <text class="result-text">{{testResult}}</text>
    </view>
  </view>

  <view class="info-section">
    <view class="info-item">
      <text class="info-label">API端点:</text>
      <text class="info-value">POST /api/v1/auth/request-password-reset</text>
    </view>
    <view class="info-item">
      <text class="info-label">API端点:</text>
      <text class="info-value">POST /api/v1/auth/reset-password</text>
    </view>
    <view class="info-item">
      <text class="info-label">API端点:</text>
      <text class="info-value">POST /api/v1/user/change-password</text>
    </view>
    <view class="info-item">
      <text class="info-label">认证:</text>
      <text class="info-value">修改密码需要登录，其他不需要</text>
    </view>
  </view>
</view>
